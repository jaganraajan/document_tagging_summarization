<div class="container">
  <h1>Upload New Document</h1>
  
  <%= form_with model: @document, local: true, multipart: true, class: "document-form" do |form| %>
    <% if @document.errors.any? %>
      <div class="alert alert-error">
        <h4><%= pluralize(@document.errors.count, "error") %> prohibited this document from being saved:</h4>
        <ul>
          <% @document.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="form-group">
      <%= form.label :title, "Document Title" %>
      <%= form.text_field :title, placeholder: "Enter a descriptive title for your document", required: true %>
    </div>

    <div class="form-group">
      <%= form.label :file, "Upload File (optional)" %>
      <%= form.file_field :file, accept: ".pdf,.doc,.docx,.txt,.csv,.json" %>
      <small class="help-text">
        Supported formats: PDF, Word (.doc, .docx), Text (.txt), CSV, JSON
      </small>
    </div>

    <div class="form-group">
      <%= form.label :content, "Or Enter Text Content" %>
      <%= form.text_area :content, rows: 10, placeholder: "Paste or type your document content here if not uploading a file..." %>
      <small class="help-text">
        You can either upload a file or enter text content directly. If both are provided, the file will take precedence.
      </small>
    </div>

    <div class="form-actions">
      <%= form.submit "Upload & Process Document", class: "btn btn-primary" %>
      <%= link_to "Cancel", documents_path, class: "btn btn-secondary" %>
    </div>
  <% end %>
</div>

<style>
  .container { max-width: 800px; margin: 0 auto; padding: 20px; }
  
  .document-form { background: white; padding: 30px; border: 1px solid #ddd; border-radius: 8px; }
  
  .form-group { margin-bottom: 20px; }
  .form-group label { display: block; margin-bottom: 5px; font-weight: bold; color: #333; }
  .form-group input[type="text"], 
  .form-group textarea,
  .form-group input[type="file"] { 
    width: 100%; 
    padding: 10px; 
    border: 1px solid #ddd; 
    border-radius: 4px; 
    font-size: 14px;
  }
  .form-group textarea { resize: vertical; font-family: inherit; }
  
  .help-text { 
    display: block; 
    font-size: 12px; 
    color: #666; 
    margin-top: 5px; 
  }
  
  .alert { 
    padding: 15px; 
    border-radius: 4px; 
    margin-bottom: 20px; 
  }
  .alert-error { 
    background: #f8d7da; 
    border: 1px solid #f5c6cb; 
    color: #721c24; 
  }
  .alert ul { margin: 10px 0 0 20px; }
  
  .form-actions { 
    display: flex; 
    gap: 10px; 
    padding-top: 20px; 
    border-top: 1px solid #eee; 
  }
  
  .btn { 
    padding: 12px 25px; 
    text-decoration: none; 
    border-radius: 5px; 
    border: none; 
    cursor: pointer; 
    font-size: 14px; 
  }
  .btn-primary { background: #007bff; color: white; }
  .btn-secondary { background: #6c757d; color: white; }
  .btn:hover { opacity: 0.9; }
</style>